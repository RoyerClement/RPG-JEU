<!doctype html>
<html>
    <head>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap"
            rel="stylesheet"
        />

        <style>
            #flashlight {
                position: fixed;
                width: 1000%; /* Largeur du cercle lumineux */
                height: 1000%; 
                bottom: 0;
                transform: translate(-50%, -50%);
                pointer-events: none;
                background: radial-gradient(circle, rgba(0, 0, 0, 0.1) 100px, rgba(0, 0, 0, 1) 250px);
                z-index: 2; /* Doit être au-dessus de l'obscurité */
            }
            #overlay {
                position: fixed;
                width: 100%; /* Largeur du cercle lumineux */
                height: 100%; 
                bottom: 0;
                pointer-events: none;
                background: rgba(0, 0, 0, 0);
                z-index: 1; /* Doit être au-dessus de l'obscurité */
            }
            :root {
                --darkness-opacity: 0.0;
            }
            .background-darkness {
                position: relative;
                width: 100%;
                height: 100vh;
            }

            .background-darkness::before {
                content: "";
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-image: url("image/darkness17.webp");
                background-position: center;
                background-repeat: no-repeat;
                background-size: cover;
                opacity: var(--darkness-opacity);
                pointer-events: none;
                z-index: 1; 
            }
            .position-relative {
            position: relative;
            }
            .no-darkness::before {
                display: none !important; 
            }   
            .no-darkness {
                position: relative; 
                z-index: 2;
            }
            #UN {
                position: absolute;
                right: 800px;
                left: 700px;
            }
            #DEUX {
                position: absolute;
                right: 1300px;
                left: 350px;
            }
            #first {
                position: absolute;
                
            }
            #first img {
                position: absolute;
            }
            #divEnn1degats {
                position: absolute;
                top:150px;
                left: 100px;
            }
            #second {
                position: absolute;
                left: 250px;
                
            }
            #second img {
                position: absolute;
            }
            #divEnn2degats {
                position: absolute;
                top:150px;
                left: 350px;
            }
            #third {
                position: absolute;
                left: 500px;
                
            }
            #third img {
                position: absolute;
            }
            #divEnn3degats {
                position: absolute;
                top:150px;
                left: 600px;
            }
            #fourth {
                position: absolute;
                left: 750px;
                
            }
            #fourth img {
                position: absolute;
            }
            #divEnn4degats {
                position: absolute;
                top:150px;
                left: 850px;
            }
            #fifth {
                position: absolute;
                left: 1000px;
            
                
            }
            #fifth img {
                position: absolute;
            }
            #divEnn5degats {
                position: absolute;
                top:150px;
                left: 1100px;
            }
            .degatsIdo{
                font-family: "MedievalSharp", serif;
                font-weight: 800;
                font-style:oblique;
                font-size: 28px;
                color: #860d0d;
            }
            #divDialogue {
                font-family: "MedievalSharp", serif;
                font-weight: 400;
                font-style: normal;
                position: absolute;
                bottom: 50px;
                float: right;
                border: 5px solid #4d372a;
                background-color: #886146;
                padding: 15px;
                margin: 15px;
                width: 300px;
            }
            #itemMarket {
                position: absolute;
                bottom: 250px;
                top: 0px;
                left: 53px;
                border: 5px solid #4d372a;
                background-color: #886146;
                padding: 5px;
                margin: 5px;
                width: 400px;
                height: 550;
                font-family: "MedievalSharp", serif;
                font-weight: 400;
                font-style: normal;
                font-size: 16px;
                color: #706c2e;
            }
            #Inventaire {
                position: absolute;
                bottom: 250px;
                top: 0px;
                right: 53px;
                border: 5px solid #4d372a;
                background-color: #886146;
                padding: 5px;
                margin: 5px;
                width: 180px;
                height: 100px;
                font-family: "MedievalSharp", serif;
                font-weight: 400;
                font-style: normal;
                font-size: 24px;
                color: #706c2e;
            }
            #reset {
                position: absolute;
                bottom: 100px;
                right: 53px;
                border: 5px solid #4d372a;
                background-color: #886146;
                padding: 5px;
                margin: 5px;
                width: 180px;
                height: 100px;
                font-family: "MedievalSharp", serif;
                font-weight: 400;
                font-style: normal;
                font-size: 24px;
                color: #706c2e;
            }
            #back {
                position: absolute;
                right: 53px;
                top: 110px;
                float: right;
                border: 5px solid #4d372a;
                background-color: #886146;
                padding: 5px;
                margin: 5px;
                width: 180px;
                height: 100px;
                font-family: "MedievalSharp", serif;
                font-weight: 400;
                font-style: normal;
                font-size: 24px;
                color: #706c2e;
            }
            #tableauRune {
                position: absolute;
                right: 899px;
                bottom: 110px;
                float: right;
                z-index: 5;
                width: 700px;
                height: 300px;
                border: 5px solid #4d372a;
                background-color: #563620;
                padding: 5px;
                margin: 5px;
                font-family: "MedievalSharp", serif;
                font-weight: 400;
                font-style: normal;
                font-size: 24px;
                color: #706c2e;
            }
            #tableauRuneDone {
                position: absolute;
                right: 899px;
                top: 110px;
                float: right;
                z-index: 5;
                width: 700px;
                height: 200px;
                border: 5px solid #4d372a;
                background-color: #563620;
                padding: 5px;
                margin: 5px;
                font-family: "MedievalSharp", serif;
                font-weight: 400;
                font-style: normal;
                font-size: 24px;
                color: #706c2e;
            }
            #panneauAttaque {
                position: absolute;
                right: 399px;
                bottom: 110px;
                float: right;
                z-index: 5;
                width: 400px;
                height: 300px;
                border: 5px solid #4d372a;
                background-color: #563620;
                padding: 5px;
                margin: 5px;
                font-family: "MedievalSharp", serif;
                font-weight: 400;
                font-style: normal;
                font-size: 24px;
                color: #706c2e;
            }
            .panneauATQ { 
                border: 5px solid #34251c;
                background-color: #886146;
                padding: 5px;
                margin: 5px;
                font-family: "MedievalSharp", serif;
                font-weight: 400;
                font-style: normal;
                font-size: 24px;
                color: #706c2e;
                }
            .spell { 
                border: 3px solid #465188;
                background-color: #241b52;
                padding: 3px;
                margin: 3px;
                font-family: "MedievalSharp", serif;
                font-weight: 400;
                font-style: normal;
                font-size: 20px;
            }
            #btnAttaque {
                position:absolute;
                left: 140px;
            }
            #btnSkill {
                position: absolute;
                top : 60px;
                left:15px;  
            }
            #btnSpell {
                position: absolute;
                top : 60px;
                right:15px;  
            }
            #mur {
                width: 100%;
                height: 407px;
                background-image: url("image/mur0.jpg");
                background-position: center;
                position: relative;
                overflow: hidden;
                background-repeat: repeat;
            }
            .positionEnnemi {
                
                position:absolute;
                top: 250px;
                bottom: 700px;

            }
            #sol {
                width: 100%;
                height: 207px;
                background-image: url("image/sol.jpg");
                background-position: center;
                position: relative;
                overflow: hidden;
                background-repeat: repeat;
            }
            #fightDoor {
                position: absolute;
                left: 550px;
            }
            #market {
                position: absolute;
                right: 700px;
                top: 0px;
            }
            #info {
                font-size: 24px;
                border: 1px solid #ccc;
                padding: 10px;
                margin: 10px;
                position: absolute;
                right: 250px;
                left: 1400px;
                top: 0px;
                font-family: "MedievalSharp", serif;
                font-weight: 400;
                font-style: normal;
                border: 5px solid #4d372a;
                background-color: #886146;
                color:#331d1d
            }

            #ennemiDegats {
                position:absolute;
                top: 150px;
                left: 800px;
                right: 1000px;
                font-family: "MedievalSharp", serif;
                font-weight: 800;
                font-style:oblique;
                font-size: 28px;
                color: #860d0d;
            }
            #btnFeu {
                color: #860d0d;
            }
            #btnFoudre {
                color: #4444af;
            }
            #btnBlast {
                color: #6a511f;
            }
            #btnArcane {
                color: #2bc1c8;
            }
            #allSpell {
                border: 1px solid #ccc;
                padding: 10px;
                margin: 10px;
                position: absolute;
                width: 350px;
                height: 140px;
                top: 110px;
                border: 5px solid #ecd81e;
                background-color: #465188;
            }
            #allSkill {
                border: 1px solid #ccc;
                padding: 10px;
                margin: 10px;
                position: absolute;
                width: 350px;
                height: 140px;
                top: 110px;
                border: 5px solid #612520;
                background-color: #893927;
            }
        </style>
    </head>
    <body>
        <div id="flashlight" style="display:none"></div>
        <div id="overlay" style="
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            background: rgb(0, 0, 0, 0); 
            z-index: 2;">    
        </div>
        <div>
        <button id ="checkNoFight" data-testid="testCheckNoFight" >NoFight</button>
        <button id ="checkFight" data-testid="testCheckFight">Fight</button>
        <button id ="checkMarchand" data-testid="testCheckMarchand">Marchand</button>
        <button id ="checkNoMarchand" data-testid="testCheckNoMarchand">NoMarchand</button>
        </div>
        <div id="tableauRune" style="display: none;"></div>
        <div id="tableauRuneDone" style="display: none;"></div> 
        <div id="all" class="position-relative background-darkness">
            <div id ="panneauAttaque" data-testid="testPanneauATQ" style="display: none;">
                <button id="btnAttaque" class="panneauATQ">Attaque</button><br>
                <button id="btnSkill" class="panneauATQ">Compétences</button><br>
                <button id ="btnSpell" class="panneauATQ">Sorts</button>
                <div id ="allSpell" style="display: none;">
                    <button id ="btnFeu" class="spell" style="display: none; border:2px solid #860d0d">Flamme</button>
                    <button id ="btnFoudre" class="spell" style="display: none;border:2px solid #2765b8"">Foudre</button>
                    <button id ="btnBlast" class="spell" style="display: none;border:2px solid #b47f0c"">Blast</button>
                    <button id ="btnArcane" class="spell" style="display: none;border:2px solid #29c1c7"">Arcane</button>
                </div>
                <div id ="allSkill" style="display: none;">
                    <button id ="btnAttaqueAll" class="panneauATQ">Attaque horizontale</button>
                    <button id ="btnATQdouble" class="panneauATQ">Double attaque</button>
                </div>
            </div>
            <div id="darkness"></div>
            <div id="mur">
                
                <div id="fightDoor"></div>
                <div id="porte">
                    <div id="UN">
                        <img
                            src="image/porteFerme.webp"
                            id="ImA"
                            title="A"
                            data-testid="porteFermeA"
                            class="porteFerme"
                        />
                    </div>
                    <div id="DEUX">
                        <img
                            src="image/porteFerme.webp"
                            id="ImB"
                            data-testid="porteFermeB"
                            class="porteFerme"
                            title="B"
                        />
                    </div>
                    <div id="TROIS">
                        <img
                            src="image/porteFerme.webp"
                            id="ImC"
                            data-testid="porteFermeC"
                            class="porteFerme"
                            title="C"
                        />
                    </div>
                </div>
            </div>
            
            <div id="sol"></div>
            <div id="ennemi">
                <div id="first" class="positionEnnemi"></div>
                <div id="second"class="positionEnnemi"></div>
                <div id="third"class="positionEnnemi"></div>
                <div id="fourth"class="positionEnnemi"></div>
                <div id="fifth"class="positionEnnemi"></div>
                <div id ="divEnn1degats" class ="degatsIdo"></div>
                <div id ="divEnn2degats" class ="degatsIdo"></div>
                <div id ="divEnn3degats" class ="degatsIdo"></div>
                <div id ="divEnn4degats" class ="degatsIdo"></div>
                <div id ="divEnn5degats" class ="degatsIdo"></div>
                <div id ="ennemiDegats"></div>
            </div>
            <div id="market"></div>
            
        </div>
        <div id="itemMarket" data-testid="divPetitMarchand" style="display: none">
            <p>Voici ce que le marchand propose :</p>
        </div>
        <button id="Inventaire" class="no-darkness" data-testid="testOpInv">
            Ouvrir l'inventaire
        </button>
        <button id="back" class="no-darkness" style="display: none" data-testid="testBack">
            Revenir en arrière
        </button>
        <button id="reset" data-testid="testReset" style = "z-index: 99999">Reset</button>
        <div id="divDialogue" class="no-darkness" style = "z-index: 15">
            <span id="boiteDialogue"></span>
        </div>
    </body>

    <script src="donjon.js" type="module"></script>
</html>
