<!doctype html>
<html>
    <head>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap"
            rel="stylesheet"
        />

        <style>
            :root {
                --darkness-opacity: 0.55;
            }
            .background-darkness {
                position: relative;
                width: 100%;
                height: 100vh;
            }

            .background-darkness::before {
                content: "";
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-image: url("image/darkness17.webp");
                background-position: center;
                background-repeat: no-repeat;
                background-size: cover;
                opacity: var(--darkness-opacity);
                pointer-events: none;
                z-index: 1; 
            }
            .position-relative {
            position: relative;
            }
            .no-darkness::before {
                display: none !important; 
            }   
            .no-darkness {
                position: relative; 
                z-index: 2;
            }
            #UN {
                position: absolute;
                right: 800px;
                left: 700px;
            }
            #DEUX {
                position: absolute;
                right: 1300px;
                left: 350px;
            }
            #first {
                position: absolute;
                top: 150px;
            }
            #first img {
                position: absolute;
            }
            #second {
                position: absolute;
                left: 250px;
                top: 150px;
            }
            #second img {
                position: absolute;
            }
            #third {
                position: absolute;
                left: 500px;
                top: 150px;
            }
            #third img {
                position: absolute;
            }
            #fourth {
                position: absolute;
                left: 750px;
                top: 150px;
            }
            #fourth img {
                position: absolute;
            }
            #fifth {
                position: absolute;
                left: 1000px;
                top: 150px;
            }
            #fifth img {
                position: absolute;
            }
            
            #divDialogue {
                font-family: "MedievalSharp", serif;
                font-weight: 400;
                font-style: normal;
                position: absolute;
                bottom: 50px;
                float: right;
                border: 5px solid #4d372a;
                background-color: #886146;
                padding: 15px;
                margin: 15px;
                width: 300px;
            }
            #itemMarket {
                position: absolute;
                bottom: 250px;
                top: 0px;
                left: 53px;
                border: 5px solid #4d372a;
                background-color: #886146;
                padding: 5px;
                margin: 5px;
                width: 400px;
                height: 550;
                font-family: "MedievalSharp", serif;
                font-weight: 400;
                font-style: normal;
                font-size: 16px;
                color: #706c2e;
            }
            #Inventaire {
                position: absolute;
                bottom: 250px;
                top: 0px;
                right: 53px;
                border: 5px solid #4d372a;
                background-color: #886146;
                padding: 5px;
                margin: 5px;
                width: 180px;
                height: 100px;
                font-family: "MedievalSharp", serif;
                font-weight: 400;
                font-style: normal;
                font-size: 24px;
                color: #706c2e;
            }
            #reset {
                position: absolute;
                bottom: 100px;
                right: 53px;
                border: 5px solid #4d372a;
                background-color: #886146;
                padding: 5px;
                margin: 5px;
                width: 180px;
                height: 100px;
                font-family: "MedievalSharp", serif;
                font-weight: 400;
                font-style: normal;
                font-size: 24px;
                color: #706c2e;
            }
            #back {
                position: absolute;
                right: 53px;
                top: 110px;
                float: right;
                border: 5px solid #4d372a;
                background-color: #886146;
                padding: 5px;
                margin: 5px;
                width: 180px;
                height: 100px;
                font-family: "MedievalSharp", serif;
                font-weight: 400;
                font-style: normal;
                font-size: 24px;
                color: #706c2e;
            }
            #mur {
                width: 100%;
                height: 407px;
                background-image: url("image/mur0.jpg");
                background-position: center;
                position: relative;
                overflow: hidden;
                background-repeat: repeat;
            }
            #sol {
                width: 100%;
                height: 207px;
                background-image: url("image/sol.jpg");
                background-position: center;
                position: relative;
                overflow: hidden;
                background-repeat: repeat;
            }
            #fightDoor {
                position: absolute;
                left: 550px;
            }
            #market {
                position: absolute;
                right: 700px;
                top: 0px;
            }
            #info {
                font-size: 24px;
                border: 1px solid #ccc;
                padding: 10px;
                margin: 10px;
                position: absolute;
                right: 250px;
                top: 0px;
                font-family: "MedievalSharp", serif;
                font-weight: 400;
                font-style: normal;
                border: 5px solid #4d372a;
                background-color: #886146;
            }
        </style>
    </head>
    <body>
        <div id="overlay" style="
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.0); /* semi-transparent */
            z-index: 9999;">
        </div>
        <div id="all" class="position-relative background-darkness">
            <div id="darkness"></div>
            <div id="mur">
                <div id="fightDoor"></div>
                <div id="porte">
                    <div id="UN">
                        <img
                            src="image/porteFerme.webp"
                            id="ImA"
                            title="A"
                            class="porteFerme"
                            title="A"
                        />
                    </div>
                    <div id="DEUX">
                        <img
                            src="image/porteFerme.webp"
                            id="ImB"
                            data-testid="firstClosedDoor"
                            class="porteFerme"
                            title="B"
                        />
                    </div>
                    <div id="TROIS">
                        <img
                            src="image/porteFerme.webp"
                            id="ImC"
                            class="porteFerme"
                            title="C"
                        />
                    </div>
                </div>
            </div>

            <div id="sol"></div>
            <div id="market"></div>
            <div id="ennemi">
                <div id="first"></div>
                <div id="second"></div>
                <div id="third"></div>
                <div id="fourth"></div>
                <div id="fifth"></div>
            </div>
        </div>
        <div id="itemMarket" style="display: none">
            <p>Voici ce que le marchand propose :</p>
        </div>
        <button id="Inventaire" class="no-darkness" data-testid="testOpInv">
            Ouvrir l'inventaire
        </button>
        <button id="back" class="no-darkness" style="display: none" data-testid="testBack">
            Revenir en arri√®re
        </button>
        <button id="reset" data-testid="testReset" style = "z-index: 99999">Reset</button>
        <div id="divDialogue" class="no-darkness" style = "z-index: 15">
            <span id="boiteDialogue"></span>
        </div>
    </body>

    <script src="donjon.js" type="module"></script>
</html>
